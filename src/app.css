@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 72.2% 50.6%;
    --destructive-foreground: 0 0% 98%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --ring: 0 0% 83.1%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border text-justify;
  }

  /* Custom text selection colors */
  ::selection {
    @apply bg-secondary-yellow/50 text-primary-black;
  }

  ::-moz-selection {
    @apply bg-secondary-yellow/50 text-primary-black;
  }

  body {
    @apply bg-primary-foreground text-primary-black font-martel;
  }

  .dome {
    /* mask-image: url("exhibits/sambc/Vector.svg");
    -webkit-mask-image: url("/exhibits/sambc/Vector.svg"); */

    mask-image: url("/Vector.svg");
    -webkit-mask-image: url("/Vector.svg");

    mask-size: 100% 100%;
  }

  .bg-pattern {
    /* background-image: url("/exhibits/sambc/pattern.svg"); */
    background-image: url("/pattern.svg"); 
  }

  a {
    @apply text-primary-blue hover:underline;
  }

  .history>section {
    @apply pb-16 first:pt-16 flex flex-col gap-12;
  }

  .history>section>h2 {
    @apply text-h4 font-bold font-source-serif-4 !text-center bg-secondary-yellow leading-[1.15] py-8 px-2;
  }

  .history>section>div,
  .desc-text {
    @apply  mx-4 px-4 lg:px-12 py-4 border-l-[4px] border-secondary-yellow break-words leading-relaxed;
  }

  .history h1 {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-h1 break-words font-source-serif-4 font-bold text-primary-blue pb-8;
  }

  .responsive-heading {
    @apply text-3xl sm:text-4xl md:text-5xl lg:text-h1 break-words text-primary-blue font-source-serif-4 font-bold leading-[1.15] pb-8;
  }

  .section-title {
    @apply font-source-serif-4 font-bold leading-[1.15] text-primary-blue pb-8 text-2xl sm:text-3xl md:text-4xl lg:text-h2;
  }

  .content-section {
    @apply border-l-[6px] border-l-secondary-yellow pl-4 md:pl-8 mb-8 break-words leading-relaxed;
  }

  .card-container {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8;
  }

  .standard-section {
    @apply mb-16;
  }

  .page-title {
    @apply text-h2 font-bold text-primary-blue font-source-serif-4 leading-[1.15] pb-6 !text-left;
  }

  ol {
    @apply pl-8;
  }

  ol>li {
    @apply list-decimal;
  }

  /* Custom share-this popover styles */
  .custom-share-popover {
    @apply max-w-32 pointer-events-none;
    filter: drop-shadow(0 4px 12px rgba(5, 102, 141, 0.25));
    animation: share-this-intro 0.3s;
  }

  .custom-share-popover::before {
    content: "";
    @apply absolute left-1/2;
    bottom: 100%;
    width: 0;
    height: 0;
    margin: 0.25em -0.5em;
    border-width: 0.5em 0.5em 0;
    border-style: solid;
    border-color: #05668D transparent; /* primary-blue */
  }

  .custom-share-popover > ul {
    @apply pointer-events-auto list-none p-0 whitespace-nowrap bg-primary-blue text-white rounded-lg absolute left-1/2 border-2;
    margin: -0.75em 0 0;
    transform: translate(-50%, -100%);
    border-color: #028090; /* secondary-teal */
  }

  .custom-share-popover > ul > li {
    @apply inline-block w-8 h-8 leading-8 text-center;
  }

  .custom-share-popover > ul > li > a {
    @apply inline-block w-full h-full text-inherit box-border transition-all duration-200;
    padding: 0.35em;
  }

  .custom-share-popover > ul > li > a:focus,
  .custom-share-popover > ul > li > a:hover {
    @apply text-white rounded;
    background: #028090; /* secondary-teal */
  }

  /* Mobile styles */
  @media (pointer: coarse) {
    .custom-share-popover {
      @apply text-6xl;
    }
    
    .custom-share-popover::before {
      bottom: auto;
      top: 100%;
      border-width: 0 0.5em 0.5em;
      margin-top: 0;
    }
    
    .custom-share-popover > ul {
      top: 100%;
      transform: translateX(-50%);
      margin: 0.5em 0 0;
    }
  }

  @media (max-width: 575px) {
    .custom-share-popover {
      @apply left-0 right-0 w-auto max-w-none;
    }
    
    .custom-share-popover::before {
      bottom: auto;
      top: 100%;
      border-width: 0 0.5em 0.5em;
      margin-top: 0;
    }
    
    .custom-share-popover > ul {
      @apply top-full left-0 w-full rounded-none text-center;
      transform: none;
      margin: 0.5em 0 0;
    }
  }
}